<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <link rel="icon" type="image/png" href="favicon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£Ù„Ø¹Ø§Ø¨ ÙƒÙ…Ø¨ÙŠÙˆØªØ± - ØªØ­Ù…ÙŠÙ„ Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¬Ø§Ù†Ø§Ù‹</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.6.2/fuse.min.js"></script>
    <!-- TITLE - Appears in Google Search -->
<title>ğŸ® Free PC Games - Ø­Ù…Ù„ Ø£Ù„Ø¹Ø§Ø¨ ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ù…Ø¬Ø§Ù†ÙŠØ© ÙˆØ®ÙÙŠÙØ© Ø¨Ø±ÙˆØ§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±Ø©</title>

<!-- META DESCRIPTION - Appears under title in search -->
<meta name="description" content="Ø£ÙØ¶Ù„ Ù…ÙˆÙ‚Ø¹ Ù„ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ù…Ø¬Ø§Ù†Ø§. Ø£Ù„Ø¹Ø§Ø¨ Ø£ÙƒØ´Ù†ØŒ Ù…ØºØ§Ù…Ø±Ø§ØªØŒ Ø³Ø¨Ø§Ù‚ØŒ Ø±Ø¹Ø¨ØŒ ÙˆØ®ÙÙŠÙØ© Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø¶Ø¹ÙŠÙØ© Ø¨Ø±ÙˆØ§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø¯ÙˆÙ† Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…Ø²Ø¹Ø¬Ø©.">

<!-- META KEYWORDS -->
<meta name="keywords" content="ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¬Ø§Ù†ÙŠØ©, Ø£Ù„Ø¹Ø§Ø¨ Ø®ÙÙŠÙØ©, free pc games, Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø¯ÙˆÙ† Ø§Ù†ØªØ±Ù†Øª, Ø£Ù„Ø¹Ø§Ø¨ Ø§ÙƒØ´Ù†, Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø±Ø¹Ø¨, Ø£Ù„Ø¹Ø§Ø¨ Ø³Ø¨Ø§Ù‚, best free pc games, Ø£Ù„Ø¹Ø§Ø¨ ÙƒÙ…Ø¨ÙŠÙˆØªØ± 2025">

<!-- AUTHOR -->
<meta name="author" content="Hamza">

<!-- VIEWPORT - Responsive -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- GOOGLE VERIFY (ØªØ²ÙŠØ¯Ùˆ Ø¨Ø§Ø´ ÙŠØ£Ø±Ø´Ù Ø§Ù„Ù…ÙˆÙ‚Ø¹) -->
<meta name="google-site-verification" content="**Ø¹ÙˆØ¶ Ù‡Ø§Ø¯ Ø§Ù„ÙƒÙˆØ¯ Ø¨Ø§Ù„ÙƒÙˆØ¯ Ù„ÙŠ ÙŠØ¹Ø·ÙŠÙƒ ÙÙ€ Google Search Console**" />

<!-- Open Graph - Facebook / WhatsApp Preview -->
<meta property="og:type" content="website">
<meta property="og:title" content="ğŸ® Free PC Games - Ø­Ù…Ù„ Ø£Ù„Ø¹Ø§Ø¨ ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ù…Ø¬Ø§Ù†ÙŠØ©">
<meta property="og:description" content="Ù…ÙˆÙ‚Ø¹ Ù…Ø®ØµØµ Ù„ØªØ­Ù…ÙŠÙ„ Ø£ÙØ¶Ù„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø­Ø§Ø³ÙˆØ¨ Ù…Ø¬Ø§Ù†Ø§ ÙˆØ±ÙˆØ§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±Ø©. Ø£Ù„Ø¹Ø§Ø¨ Ù…Ù…ØªØ¹Ø© ÙˆØ®ÙÙŠÙØ© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©.">
<meta property="og:image" content="https://hamza221233.github.io/free-pc-game/assets/cover.jpg">
<meta property="og:url" content="https://hamza221233.github.io/free-pc-game/">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="ğŸ® Free PC Games - Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±">
<meta name="twitter:description" content="Ø£ÙØ¶Ù„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ù„Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ø¬Ø§Ù†Ø§ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø©. Ø¨Ø¯ÙˆÙ† Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…Ø²Ø¹Ø¬Ø©.">
<meta name="twitter:image" content="https://hamza221233.github.io/free-pc-game/assets/cover.jpg">

<!-- FAVICON -->
<link rel="icon" type="image/x-icon" href="favicon.ico">

<!-- Canonical URL -->
<link rel="canonical" href="https://hamza221233.github.io/free-pc-game/" />
<meta name="google-site-verification" content="oOO2TvKI98Jw9j2WZzikmanE-QWLepnHXRjKo2tTjgc" />
</head>

<body class="dark-mode">
    <header class="header">
        <div class="container">
            <div class="header-content">
                <!-- Ø²Ø± Ø¯Ø¹Ù… Ø¹Ù„Ù‰ Ko-fi -->
<div style="text-align: center; margin: 20px 0;">
  <a href="https://ko-fi.com/hamza212" target="_blank">
    <img 
      height="36" 
      style="border:0; height:36px;" 
      src="https://storage.ko-fi.com/cdn/kofi5.png?v=3" 
      alt="Buy Me a Coffee at ko-fi.com"
    />
  </a>
</div>

                <div class="logo">Ø£Ù„Ø¹Ø§Ø¨ ÙƒÙ…Ø¨ÙŠÙˆØªØ±</div>
                <nav>
                    <ul>
                        <li><a href="#" class="active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                        <li><a href="#all-games">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</a></li>
                        <li><a href="#top-games">Ø§Ù„Ø£ÙƒØ«Ø± ØªØ­Ù…ÙŠÙ„Ø§Ù‹</a></li>
                        <li><a href="#categories">Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</a></li>
                    </ul>
                </nav>
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </header>
    
    <section class="hero">
        <div class="container hero-container">
            <h1>ØªØ­Ù…ÙŠÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ù…Ø¬Ø§Ù†Ø§ </h1>
            <p>ØªØ­Ù…ÙŠÙ„ Ø£Ø­Ø¯Ø« Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆØ³Ø±Ø¹Ø©</p>
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù„Ø¹Ø¨ØªÙƒ Ø§Ù„Ù…ÙØ¶Ù„Ø©..." autocomplete="off">
                <div class="search-suggestions" id="searchSuggestions"></div>
                <div class="search-results-count" id="searchResultsCount"></div>
            </div>
        </div>
    </section>
    
    <section class="game-section" id="latest-games">
        <div class="container">
            <h2 class="section-title">Ø£Ø­Ø¯Ø« Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</h2>
            <div class="games-grid" id="latestGamesContainer">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
            </div>
        </div>
    </section>
    
    <section class="game-section" id="top-games">
        <div class="container">
            <h2 class="section-title">Ø§Ù„Ø£ÙƒØ«Ø± ØªØ­Ù…ÙŠÙ„Ø§Ù‹</h2>
            <div class="games-grid" id="topDownloadsContainer">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
            </div>
        </div>
    </section>
    
    <section class="game-section" id="all-games">
        <div class="container">
            <h2 class="section-title">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</h2>
            <div class="filters">
                <select id="categoryFilter">
                    <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</option>
                    <option value="sports">Ø±ÙŠØ§Ø¶Ø©</option>
                    <option value="action">Ø£ÙƒØ´Ù†</option>
                    <option value="adventure">Ù…ØºØ§Ù…Ø±Ø§Øª</option>
                    <option value="racing">Ø³Ø¨Ø§Ù‚Ø§Øª</option>
                    <option value="strategy">Ø¥Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©</option>
                </select>
                <select id="sortBy">
                    <option value="newest">Ø§Ù„Ø£Ø­Ø¯Ø«</option>
                    <option value="oldest">Ø§Ù„Ø£Ù‚Ø¯Ù…</option>
                    <option value="downloads">Ø§Ù„Ø£ÙƒØ«Ø± ØªØ­Ù…ÙŠÙ„Ø§Ù‹</option>
                </select>
            </div>
            <div class="games-grid" id="allGamesContainer">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
            </div>
            <div class="pagination" id="paginationContainer">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
            </div>
        </div>
    </section>
    
    <section id="game-details-section" style="display:none;">
        <div class="container">
            <div class="game-page">
                <div class="game-header" id="gameDetailsContainer">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                </div>
                
                <div class="screenshots">
                    <h2 class="section-title">Ù„Ù‚Ø·Ø§Øª Ù…Ù† Ø§Ù„Ù„Ø¹Ø¨Ø©</h2>
                    <div class="screenshots-grid" id="screenshotsContainer">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                    </div>
                </div>
                
                <div class="comments-section">
                    <h2 class="section-title">Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª</h2>
                    <div class="comment-form">
                        <textarea id="commentInput" placeholder="Ø£Ø¶Ù ØªØ¹Ù„ÙŠÙ‚Ùƒ Ù‡Ù†Ø§..." rows="4"></textarea>
                        <label class="admin-checkbox">
                            <input type="checkbox" id="adminComment"> ØªØ¹Ù„ÙŠÙ‚ ÙƒÙ…Ø´Ø±Ù
                        </label>
                        <button class="submit-comment-btn" onclick="submitComment()">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚</button>
                    </div>
                    <div class="comments-list" id="commentsContainer">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                    </div>
                </div>
                
                <div class="similar-games">
                    <h2 class="section-title">Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø´Ø§Ø¨Ù‡Ø©</h2>
                    <div class="games-grid" id="similarGamesContainer">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <section id="not-found-section" style="display:none;">
        <div class="container">
            <div class="not-found">
                <h1>404</h1>
                <p>Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªÙŠ ØªØ¨Ø­Ø« Ø¹Ù†Ù‡Ø§ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©</p>
                <a href="#" class="home-btn" onclick="goHome(); return false;">Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            </div>
        </div>
    </section>
    
    <a href="#" class="back-to-top" id="backToTop"><i class="fas fa-arrow-up"></i></a>
    
    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="#" onclick="goHome(); return false;">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
                <a href="#" onclick="goHome(); return false;">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a>
                <a href="#" onclick="goHome(); return false;">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
                <a href="#" onclick="goHome(); return false;">Ø¹Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹</a>
                <button class="whatsapp-btn" onclick="window.open('https://wa.me/+21260717742940?text=Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ Ø£Ù†Ø§ Ø£ÙˆØ§Ø¬Ù‡ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ù…ÙˆÙ‚Ø¹ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø§Ù„Ø¹Ø§Ø¨', '_blank')">
                    <i class="fab fa-whatsapp"></i> Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø´Ø±Ù
                </button>
            </div>
            <p class="copyright">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© <span id="year"></span> Ø£Ù„Ø¹Ø§Ø¨ ÙƒÙ…Ø¨ÙŠÙˆØªØ±</p>
        </div>
    </footer>

    <script src="shortcuts.js"></script>
    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        const config = {
            gamesPerPage: 8,
            currentPage: 1,
            allGames: [],
            filteredGames: [],
            adminCode: '852258'
        };

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ù† Ù…Ù„Ù JSON
        async function loadGames() {
            try {
                const response = await fetch('games.json');
                if (!response.ok) {
                    throw new Error('ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨');
                }
                const games = await response.json();
                if (!Array.isArray(games) || games.length === 0) {
                    throw new Error('Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙØ§Ø±ØºØ©');
                }
                console.log('ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', games);
                return games;
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);
                const container = document.getElementById('allGamesContainer');
                if (container) {
                    container.innerHTML = `<p style="text-align: center; color: var(--primary);">ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.</p>`;
                }
                return [];
            }
        }

        // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù„Ù Ø§Ù„ÙˆØµÙ
        async function loadDescription(filename) {
            try {
                const response = await fetch(`descriptions/${filename}`);
                if (!response.ok) {
                    throw new Error('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù„Ù Ø§Ù„ÙˆØµÙ');
                }
                return await response.text();
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØµÙ:', error);
                return `<p>ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ ÙˆØµÙ Ø§Ù„Ù„Ø¹Ø¨Ø©. ${error.message}</p>`;
            }
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©
        function displayGames(gamesArray, containerId, page = 1, append = false, highlightId = null) {
            const container = document.getElementById(containerId);
            if (!container) {
                console.error(`Ø§Ù„Ø¹Ù†ØµØ± ${containerId} ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯`);
                return;
            }
            
            if (!append) {
                container.innerHTML = '';
            }
            
            const startIndex = (page - 1) * config.gamesPerPage;
            const endIndex = startIndex + config.gamesPerPage;
            const paginatedGames = gamesArray.slice(startIndex, endIndex);
            
            if (paginatedGames.length === 0 && !append) {
                container.innerHTML = '<p style="text-align: center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù„Ø¹Ø§Ø¨ Ù…ØªØ§Ø­Ø©.</p>';
                return;
            }
            
            paginatedGames.forEach(game => {
                const gameCard = document.createElement('div');
                gameCard.className = `game-card fade-in ${highlightId === game.id ? 'highlight' : ''}`;
                gameCard.setAttribute('data-id', game.id);
                gameCard.innerHTML = `
                    <a href="#" onclick="showGameDetails(${game.id}); return false;">
                        <div class="game-card-inner">
                            <div class="game-img-container">
                                <img src="${game.cover}" alt="${game.title}" class="game-img" loading="lazy">
                            </div>
                            <div class="game-info">
                                <h3 class="game-title">${game.title}</h3>
                                <div class="game-meta">
                                    <span>${game.size}</span>
                                    <span>${game.downloads.toLocaleString()} ØªØ­Ù…ÙŠÙ„</span>
                                </div>
                                <a href="#" onclick="showGameDetails(${game.id}); return false;" class="download-btn">Ø§Ù„ØªÙØ§ØµÙŠÙ„</a>
                            </div>
                        </div>
                    </a>
                `;
                container.appendChild(gameCard);
            });
            
            if (containerId === 'allGamesContainer') {
                renderPagination(gamesArray, page);
            }

            if (highlightId) {
                const highlightedCard = container.querySelector(`.game-card[data-id="${highlightId}"]`);
                if (highlightedCard) {
                    highlightedCard.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ‚Ø³ÙŠÙ…
        function renderPagination(gamesArray, currentPage) {
            const paginationContainer = document.getElementById('paginationContainer');
            if (!paginationContainer) return;
            
            paginationContainer.innerHTML = '';
            
            const totalPages = Math.ceil(gamesArray.length / config.gamesPerPage);
            if (totalPages <= 1) return;
            
            const pagination = document.createElement('div');
            pagination.className = 'pagination-buttons';
            
            const prevButton = document.createElement('button');
            prevButton.className = 'pagination-btn';
            prevButton.innerHTML = '<i class="fas fa-chevron-right"></i>';
            prevButton.disabled = currentPage === 1;
            prevButton.addEventListener('click', () => {
                if (currentPage > 1) {
                    config.currentPage = currentPage - 1;
                    displayGames(gamesArray, 'allGamesContainer', config.currentPage);
                    window.scrollTo({ top: document.getElementById('all-games').offsetTop, behavior: 'smooth' });
                }
            });
            pagination.appendChild(prevButton);
            
            for (let i = 1; i <= totalPages; i++) {
                const pageButton = document.createElement('button');
                pageButton.className = `pagination-btn ${i === currentPage ? 'active' : ''}`;
                pageButton.textContent = i;
                pageButton.addEventListener('click', () => {
                    config.currentPage = i;
                    displayGames(gamesArray, 'allGamesContainer', config.currentPage);
                    window.scrollTo({ top: document.getElementById('all-games').offsetTop, behavior: 'smooth' });
                });
                pagination.appendChild(pageButton);
            }
            
            const nextButton = document.createElement('button');
            nextButton.className = 'pagination-btn';
            nextButton.innerHTML = '<i class="fas fa-chevron-left"></i>';
            nextButton.disabled = currentPage === totalPages;
            nextButton.addEventListener('click', () => {
                if (currentPage < totalPages) {
                    config.currentPage = currentPage + 1;
                    displayGames(gamesArray, 'allGamesContainer', config.currentPage);
                    window.scrollTo({ top: document.getElementById('all-games').offsetTop, behavior: 'smooth' });
                }
            });
            pagination.appendChild(nextButton);
            
            paginationContainer.appendChild(pagination);
        }

        // Ø¯Ø§Ù„Ø© Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø°ÙƒÙŠ Ù…Ø¹ Ø§Ù„Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª
        function smartSearch(searchTerm, forSuggestions = false) {
            const resultsCountElement = document.getElementById('searchResultsCount');
            const suggestionsContainer = document.getElementById('searchSuggestions');
            
            if (!searchTerm.trim()) {
                if (resultsCountElement) resultsCountElement.textContent = '';
                if (suggestionsContainer) {
                    suggestionsContainer.innerHTML = '';
                    suggestionsContainer.style.display = 'none';
                }
                return config.allGames;
            }
            
            const normalizedSearch = searchTerm.toLowerCase().trim();
            console.log('Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†:', normalizedSearch);
            
            let fullSearchTerm = searchTerm;
            
            try {
                if (window.shortcuts && typeof window.shortcuts === 'object' && typeof Fuse !== 'undefined') {
                    const shortcutArray = Object.keys(window.shortcuts).map(key => ({
                        key,
                        value: window.shortcuts[key]
                    }));
                    console.log('Ù…ÙØ§ØªÙŠØ­ shortcuts:', shortcutArray);
                    
                    const shortcutFuse = new Fuse(shortcutArray, {
                        keys: ['key'],
                        threshold: 0.5,
                        includeScore: true,
                        minMatchCharLength: 1
                    });
                    
                    const shortcutResults = shortcutFuse.search(normalizedSearch);
                    console.log('Ù†ØªØ§Ø¦Ø¬ Ø¨Ø­Ø« shortcuts:', shortcutResults);
                    
                    if (shortcutResults.length > 0) {
                        fullSearchTerm = shortcutResults[0].item.value;
                        console.log('Ø§Ø®ØªØµØ§Ø± Ù…Ø·Ø§Ø¨Ù‚:', fullSearchTerm);
                    }
                } else {
                    console.warn('Fuse.js Ø£Ùˆ shortcuts.js ØºÙŠØ± Ù…Ø­Ù…Ù„ÙŠÙ†ØŒ ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ');
                }
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨Ø­Ø« ÙÙŠ shortcuts:', error);
            }
            
            if (window.shortcuts && fullSearchTerm === searchTerm) {
                for (const shortcut in window.shortcuts) {
                    if (shortcut.toLowerCase().includes(normalizedSearch)) {
                        fullSearchTerm = window.shortcuts[shortcut];
                        console.log('Ø§Ø®ØªØµØ§Ø± Ù…Ø·Ø§Ø¨Ù‚ (includes):', fullSearchTerm);
                        break;
                    }
                }
            }
            
            let results = [];
            try {
                if (typeof Fuse !== 'undefined' && config.allGames.length > 0) {
                    const gameFuse = new Fuse(config.allGames, {
                        keys: ['title', 'category'],
                        threshold: forSuggestions ? 0.3 : 0.4,
                        includeScore: true,
                        minMatchCharLength: forSuggestions ? 1 : 2
                    });
                    results = gameFuse.search(fullSearchTerm).map(result => result.item);
                } else {
                    results = config.allGames.filter(game => 
                        game.title.toLowerCase().includes(normalizedSearch) ||
                        game.category.toLowerCase().includes(normalizedSearch)
                    );
                }
                console.log('Ù†ØªØ§Ø¦Ø¬ Ø¨Ø­Ø« Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', results);
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨:', error);
                results = config.allGames.filter(game => 
                    game.title.toLowerCase().includes(normalizedSearch) ||
                    game.category.toLowerCase().includes(normalizedSearch)
                );
            }
            
            if (!forSuggestions && resultsCountElement) {
                resultsCountElement.textContent = results.length > 0 
                    ? `ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ${results.length} Ù†ØªÙŠØ¬Ø©`
                    : 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£ÙŠ Ù†ØªØ§Ø¦Ø¬';
                if (suggestionsContainer) {
                    suggestionsContainer.innerHTML = '';
                    suggestionsContainer.style.display = 'none';
                }
            } else if (suggestionsContainer) {
                suggestionsContainer.innerHTML = '';
                const suggestionItems = results.slice(0, 5).map(game => `
                    <div class="suggestion-item" data-id="${game.id}">
                        <img src="${game.cover}" alt="${game.title}" class="suggestion-img">
                        <span>${game.title}</span>
                    </div>
                `).join('');
                suggestionsContainer.innerHTML = suggestionItems || '<div class="suggestion-item no-results">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª</div>';
                suggestionsContainer.style.display = suggestionItems ? 'block' : 'none';
                
                suggestionsContainer.querySelectorAll('.suggestion-item:not(.no-results)').forEach(item => {
                    item.addEventListener('click', () => {
                        const gameId = item.getAttribute('data-id');
                        const searchInput = document.getElementById('searchInput');
                        const selectedGame = config.allGames.find(g => g.id == gameId);
                        if (selectedGame && searchInput) {
                            searchInput.value = selectedGame.title;
                            performSearch(selectedGame.title, gameId);
                        }
                    });
                });
            }
            
            return results;
        }

        // ØªÙ†ÙÙŠØ° Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªÙ†Ù‚Ù„
        function performSearch(searchTerm, highlightId = null) {
            try {
                config.filteredGames = smartSearch(searchTerm);
                config.currentPage = 1;
                displayGames(config.filteredGames, 'allGamesContainer', config.currentPage, false, highlightId);
                const allGamesSection = document.getElementById('all-games');
                if (allGamesSection) {
                    allGamesSection.scrollIntoView({ behavior: 'smooth' });
                }
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªÙ†ÙÙŠØ° Ø§Ù„Ø¨Ø­Ø«:', error);
            }
        }

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø³Ù…
        function getUserName() {
            let userName = localStorage.getItem('userName');
            if (!userName) {
                userName = prompt('Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„Ù„ØªØ¹Ù„ÙŠÙ‚ (Ø³ÙŠÙØ³ØªØ®Ø¯Ù… ÙÙŠ Ø¬Ù…ÙŠØ¹ ØªØ¹Ù„ÙŠÙ‚Ø§ØªÙƒ):');
                if (!userName || userName.trim() === '') {
                    alert('ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ù„Ù„ØªØ¹Ù„ÙŠÙ‚.');
                    return null;
                }
                userName = userName.trim();
                localStorage.setItem('userName', userName);
            }
            return userName;
        }

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª
        function loadComments(gameId) {
            const comments = JSON.parse(localStorage.getItem(`comments_${gameId}`)) || [];
            return comments;
        }

        function saveComments(gameId, comments) {
            localStorage.setItem(`comments_${gameId}`, JSON.stringify(comments));
        }

        function displayComments(gameId) {
            const commentsContainer = document.getElementById('commentsContainer');
            if (!commentsContainer) return;

            const comments = loadComments(gameId);
            commentsContainer.innerHTML = '';

            if (comments.length === 0) {
                commentsContainer.innerHTML = '<p class="no-comments">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø¨Ø¹Ø¯.</p>';
                return;
            }

            comments.forEach((comment, index) => {
                const isLiked = localStorage.getItem(`like_${gameId}_${index}`) === 'true';
                const commentElement = document.createElement('div');
                commentElement.className = `comment ${comment.isAdmin ? 'admin-comment' : ''}`;
                commentElement.setAttribute('data-comment-id', index);
                commentElement.innerHTML = `
                    <div class="comment-header">
                        <span class="comment-author">${comment.isAdmin ? 'Ø§Ù„Ù…Ø´Ø±Ù' : comment.author}</span>
                        <span class="comment-date">${new Date(comment.date).toLocaleString('ar-EG')}</span>
                    </div>
                    <p class="comment-text">${comment.text}</p>
                    <div class="comment-actions">
                        <button class="like-btn ${isLiked ? 'liked' : ''}" onclick="likeComment(${gameId}, ${index})">
                            <i class="${isLiked ? 'fas' : 'far'} fa-heart"></i> ${comment.likes || 0}
                        </button>
                        <button class="reply-btn" onclick="showReplyForm(${gameId}, ${index})">Ø±Ø¯</button>
                    </div>
                    <div class="reply-form" id="reply-form-${index}" style="display: none;">
                        <textarea class="reply-input" placeholder="Ø£Ø¶Ù Ø±Ø¯Ùƒ Ù‡Ù†Ø§..." rows="3"></textarea>
                        <button class="submit-reply-btn" onclick="submitReply(${gameId}, ${index})">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø¯</button>
                    </div>
                    <div class="replies">
                        ${comment.replies ? comment.replies.map(reply => `
                            <div class="reply">
                                <div class="comment-header">
                                    <span class="comment-author">${reply.isAdmin ? 'Ø§Ù„Ù…Ø´Ø±Ù' : reply.author}</span>
                                    <span class="comment-date">${new Date(reply.date).toLocaleString('ar-EG')}</span>
                                </div>
                                <p class="comment-text">${reply.text}</p>
                            </div>
                        `).join('') : ''}
                    </div>
                `;
                commentsContainer.appendChild(commentElement);
            });
        }

        function submitComment() {
            const commentInput = document.getElementById('commentInput');
            const adminComment = document.getElementById('adminComment').checked;
            const gameId = document.querySelector('#game-details-section').dataset.gameId;

            if (!commentInput.value.trim()) {
                alert('ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© ØªØ¹Ù„ÙŠÙ‚ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„.');
                return;
            }

            const userName = getUserName();
            if (!userName) return;

            if (adminComment) {
                const code = prompt('Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ù…Ø´Ø±Ù:');
                if (code !== config.adminCode) {
                    alert('ÙƒÙˆØ¯ Ø§Ù„Ù…Ø´Ø±Ù ØºÙŠØ± ØµØ­ÙŠØ­!');
                    return;
                }
            }

            const comment = {
                text: commentInput.value.trim(),
                author: userName,
                isAdmin: adminComment,
                date: new Date().toISOString(),
                likes: 0,
                replies: []
            };

            const comments = loadComments(gameId);
            comments.push(comment);
            saveComments(gameId, comments);

            commentInput.value = '';
            document.getElementById('adminComment').checked = false;
            displayComments(gameId);
        }

        function likeComment(gameId, commentIndex) {
            const comments = loadComments(gameId);
            const likeKey = `like_${gameId}_${commentIndex}`;
            const isLiked = localStorage.getItem(likeKey) === 'true';

            if (!isLiked) {
                comments[commentIndex].likes = (comments[commentIndex].likes || 0) + 1;
                localStorage.setItem(likeKey, 'true');
            } else {
                comments[commentIndex].likes = Math.max(0, (comments[commentIndex].likes || 0) - 1);
                localStorage.setItem(likeKey, 'false');
            }

            saveComments(gameId, comments);
            displayComments(gameId);
        }

        function showReplyForm(gameId, commentIndex) {
            const replyForm = document.getElementById(`reply-form-${commentIndex}`);
            replyForm.style.display = replyForm.style.display === 'none' ? 'block' : 'none';
        }

        function submitReply(gameId, commentIndex) {
            const replyInput = document.querySelector(`#reply-form-${commentIndex} .reply-input`);
            if (!replyInput.value.trim()) {
                alert('ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø±Ø¯ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„.');
                return;
            }

            const userName = getUserName();
            if (!userName) return;

            const comments = loadComments(gameId);
            const reply = {
                text: replyInput.value.trim(),
                author: userName,
                isAdmin: false,
                date: new Date().toISOString()
            };

            comments[commentIndex].replies = comments[commentIndex].replies || [];
            comments[commentIndex].replies.push(reply);
            saveComments(gameId, comments);

            replyInput.value = '';
            displayComments(gameId);
        }

        // Ø¹Ø±Ø¶ ØµÙØ­Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©
        async function showGameDetails(gameId) {
            const game = config.allGames.find(g => g.id === gameId);
            
            if (!game) {
                showNotFound();
                return;
            }
            
            document.querySelectorAll('section').forEach(section => {
                section.style.display = 'none';
            });
            
            const gameDetailsSection = document.getElementById('game-details-section');
            gameDetailsSection.style.display = 'block';
            gameDetailsSection.dataset.gameId = gameId;
            
            const gameDetailsContainer = document.getElementById('gameDetailsContainer');
            gameDetailsContainer.innerHTML = `
                <div class="game-poster-container">
                    <img src="${game.poster}" alt="${game.title}" class="game-poster" loading="lazy">
                </div>
                <div class="game-details">
                    <h1 class="game-name">${game.title}</h1>
                    <div class="game-description">
                        <div class="loading"></div> Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØµÙ...
                    </div>
                    <div class="game-meta-info">
                        <div class="meta-item"><span>Ø§Ù„Ø­Ø¬Ù…:</span> ${game.size}</div>
                        <div class="meta-item"><span>Ø¹Ø¯Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„Ø§Øª:</span> ${game.downloads.toLocaleString()}</div>
                        <div class="meta-item"><span>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥ØµØ¯Ø§Ø±:</span> ${new Date(game.date).toLocaleDateString('ar-EG')}</div>
                        <div class="meta-item"><span>Ø§Ù„ØªØµÙ†ÙŠÙ:</span> ${getCategoryName(game.category)}</div>
                    </div>
                    <div class="game-specs">
                        <h3 class="specs-title">Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…:</h3>
                        <ul class="specs-list">
                            <li>Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„: ${game.requirements.os}</li>
                            <li>Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬: ${game.requirements.processor}</li>
                            <li>Ø§Ù„Ø°Ø§ÙƒØ±Ø©: ${game.requirements.memory}</li>
                            <li>ÙƒØ±Øª Ø§Ù„Ø´Ø§Ø´Ø©: ${game.requirements.graphics}</li>
                            <li>Ù…Ø³Ø§Ø­Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ†: ${game.requirements.storage}</li>
                        </ul>
                    </div>
                    <a href="${game.downloadLink}" class="main-download-btn">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©</a>
                </div>
            `;
            
            try {
                const description = await loadDescription(game.descriptionFile);
                const descriptionElement = document.querySelector('#gameDetailsContainer .game-description');
                if (descriptionElement) {
                    descriptionElement.innerHTML = description;
                }
            } catch (error) {
                const descriptionElement = document.querySelector('#gameDetailsContainer .game-description');
                if (descriptionElement) {
                    descriptionElement.innerHTML = `<p>Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ ÙˆØµÙ Ø§Ù„Ù„Ø¹Ø¨Ø©: ${error.message}</p>`;
                }
            }
            
            const screenshotsContainer = document.getElementById('screenshotsContainer');
            screenshotsContainer.innerHTML = '';
            
            game.screenshots.forEach(screenshot => {
                const screenshotElement = document.createElement('div');
                screenshotElement.className = 'screenshot';
                screenshotElement.innerHTML = `
                    <img src="${screenshot}" alt="${game.title} screenshot" loading="lazy">
                `;
                screenshotElement.addEventListener('click', () => openModal(screenshot));
                screenshotsContainer.appendChild(screenshotElement);
            });
            
            displayComments(gameId);
            
            const similarGamesContainer = document.getElementById('similarGamesContainer');
            similarGamesContainer.innerHTML = '';
            
            const similarGames = config.allGames.filter(g => game.similar && game.similar.includes(g.id));
            if (similarGames.length > 0) {
                displayGames(similarGames, 'similarGamesContainer');
            } else {
                similarGamesContainer.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø´Ø§Ø¨Ù‡Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</p>';
            }
            
            window.scrollTo(0, 0);
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„ØªØµÙ†ÙŠÙ
        function getCategoryName(category) {
            const categories = {
                'sports': 'Ø±ÙŠØ§Ø¶Ø©',
                'action': 'Ø£ÙƒØ´Ù†',
                'adventure': 'Ù…ØºØ§Ù…Ø±Ø§Øª',
                'racing': 'Ø³Ø¨Ø§Ù‚Ø§Øª',
                'strategy': 'Ø¥Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©'
            };
            return categories[category] || category;
        }

        // Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ Ù†Ù…ÙˆØ°Ø¬ ÙƒØ¨ÙŠØ±
        function openModal(imageSrc) {
            const modal = document.createElement('div');
            modal.className = 'modal';
            modal.innerHTML = `
                <span class="close" onclick="this.parentElement.style.display='none'">Ã—</span>
                <img class="modal-content" src="${imageSrc}">
            `;
            
            document.body.appendChild(modal);
            
            modal.style.display = 'block';
            
            window.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.display = 'none';
                    modal.remove();
                }
            });
        }

        // Ø¹Ø±Ø¶ ØµÙØ­Ø© 404
        function showNotFound() {
            document.querySelectorAll('section').forEach(section => {
                section.style.display = 'none';
            });
            
            const notFoundSection = document.getElementById('not-found-section');
            notFoundSection.style.display = 'block';
            
            window.scrollTo(0, 0);
        }

        // Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        function goHome() {
            console.log('ØªÙ†ÙÙŠØ° goHome: Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©');
            document.querySelectorAll('section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ .hero
            const heroSection = document.querySelector('.hero');
            const latestGamesSection = document.getElementById('latest-games');
            const topGamesSection = document.getElementById('top-games');
            const allGamesSection = document.getElementById('all-games');
            
            if (heroSection) {
                heroSection.style.display = 'block';
                console.log('Ù‚Ø³Ù… hero ÙŠØªÙ… Ø¥Ø¸Ù‡Ø§Ø±Ù‡');
            } else {
                console.error('Ù‚Ø³Ù… hero ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯');
            }
            
            if (latestGamesSection) {
                latestGamesSection.style.display = 'block';
                console.log('Ù‚Ø³Ù… latest-games ÙŠØªÙ… Ø¥Ø¸Ù‡Ø§Ø±Ù‡');
            }
            
            if (topGamesSection) {
                topGamesSection.style.display = 'block';
                console.log('Ù‚Ø³Ù… top-games ÙŠØªÙ… Ø¥Ø¸Ù‡Ø§Ø±Ù‡');
            }
            
            if (allGamesSection) {
                allGamesSection.style.display = 'block';
                console.log('Ù‚Ø³Ù… all-games ÙŠØªÙ… Ø¥Ø¸Ù‡Ø§Ø±Ù‡');
            }
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø¹Ø±Ø¶ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨
            config.filteredGames = [...config.allGames];
            displayGames(config.filteredGames, 'allGamesContainer', config.currentPage);
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªÙ‡ÙŠØ¦Ø© Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø«
            const searchInput = document.getElementById('searchInput');
            const suggestionsContainer = document.getElementById('searchSuggestions');
            if (searchInput && suggestionsContainer) {
                searchInput.value = '';
                suggestionsContainer.innerHTML = '';
                suggestionsContainer.style.display = 'none';
                document.getElementById('searchResultsCount').textContent = '';
                console.log('Ø´Ø±ÙŠØ· Ø§Ù„Ø¨Ø­Ø« ØªÙ…Øª Ø¥Ø¹Ø§Ø¯Ø© ØªÙ‡ÙŠØ¦ØªÙ‡');
            } else {
                console.error('Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¨Ø­Ø« ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©');
            }
            
            window.scrollTo(0, 0);
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        async function initSite() {
            try {
                console.log('Ø¨Ø¯Ø¡ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹');
                if (!window.shortcuts) {
                    console.warn('Ù„Ù… ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„Ø§Ø®ØªØµØ§Ø±Ø§ØªØŒ Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚Ø§Ù…ÙˆØ³ Ø§ÙØªØ±Ø§Ø¶ÙŠ');
                    window.shortcuts = {};
                }
                
                config.allGames = await loadGames();
                config.filteredGames = [...config.allGames];
                
                if (config.allGames.length === 0) {
                    console.error('Ù„Ù… ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø£ÙŠ Ø£Ù„Ø¹Ø§Ø¨ØŒ ØªØ­Ù‚Ù‚ Ù…Ù† games.json');
                    alert('ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ØŒ ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù games.json');
                    return;
                }
                
                const latestGames = [...config.allGames].sort((a, b) => new Date(b.date) - new Date(a.date)).slice(0, 4);
                displayGames(latestGames, 'latestGamesContainer');
                
                const topDownloads = [...config.allGames].sort((a, b) => b.downloads - a.downloads).slice(0, 4);
                displayGames(topDownloads, 'topDownloadsContainer');
                
                displayGames(config.filteredGames, 'allGamesContainer', config.currentPage);
                
                const searchInput = document.getElementById('searchInput');
                const suggestionsContainer = document.getElementById('searchSuggestions');
                
                if (!searchInput || !suggestionsContainer) {
                    console.error('Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¨Ø­Ø« ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©: searchInput Ø£Ùˆ searchSuggestions');
                    return;
                }
                
                searchInput.addEventListener('input', function() {
                    try {
                        smartSearch(this.value, true);
                    } catch (error) {
                        console.error('Ø®Ø·Ø£ ÙÙŠ Ø­Ø¯Ø« input:', error);
                    }
                });
                
                searchInput.addEventListener('keydown', function(e) {
                    try {
                        if (e.key === 'Enter') {
                            e.preventDefault();
                            const selectedSuggestion = suggestionsContainer.querySelector('.suggestion-item.active');
                            if (selectedSuggestion) {
                                const gameId = selectedSuggestion.getAttribute('data-id');
                                const selectedGame = config.allGames.find(g => g.id == gameId);
                                if (selectedGame) {
                                    this.value = selectedGame.title;
                                    performSearch(selectedGame.title, gameId);
                                }
                            } else {
                                performSearch(this.value);
                            }
                        } else if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {
                            e.preventDefault();
                            const suggestionItems = suggestionsContainer.querySelectorAll('.suggestion-item:not(.no-results)');
                            if (suggestionItems.length === 0) return;
                            
                            let activeIndex = -1;
                            suggestionItems.forEach((item, index) => {
                                if (item.classList.contains('active')) {
                                    activeIndex = index;
                                    item.classList.remove('active');
                                }
                            });
                            
                            if (e.key === 'ArrowDown') {
                                activeIndex = (activeIndex + 1) % suggestionItems.length;
                            } else if (e.key === 'ArrowUp') {
                                activeIndex = (activeIndex - 1 + suggestionItems.length) % suggestionItems.length;
                            }
                            
                            suggestionItems[activeIndex].classList.add('active');
                        }
                    } catch (error) {
                        console.error('Ø®Ø·Ø£ ÙÙŠ Ø­Ø¯Ø« keydown:', error);
                    }
                });
                
                document.addEventListener('click', (e) => {
                    if (!searchInput.contains(e.target) && !suggestionsContainer.contains(e.target)) {
                        suggestionsContainer.style.display = 'none';
                    }
                });
                
                const categoryFilter = document.getElementById('categoryFilter');
                if (categoryFilter) {
                    categoryFilter.addEventListener('change', function() {
                        const category = this.value;
                        config.filteredGames = category === 'all' 
                            ? [...config.allGames]
                            : config.allGames.filter(game => game.category === category);
                        
                        config.currentPage = 1;
                        searchInput.value = '';
                        suggestionsContainer.style.display = 'none';
                        document.getElementById('searchResultsCount').textContent = '';
                        displayGames(config.filteredGames, 'allGamesContainer', config.currentPage);
                    });
                }
                
                const sortBy = document.getElementById('sortBy');
                if (sortBy) {
                    sortBy.addEventListener('change', function() {
                        const sortBy = this.value;
                        config.filteredGames = [...config.filteredGames];
                        
                        if (sortBy === 'newest') {
                            config.filteredGames.sort((a, b) => new Date(b.date) - new Date(a.date));
                        } else if (sortBy === 'oldest') {
                            config.filteredGames.sort((a, b) => new Date(a.date) - new Date(b.date));
                        } else if (sortBy === 'downloads') {
                            config.filteredGames.sort((a, b) => b.downloads - a.downloads);
                        }
                        
                        config.currentPage = 1;
                        displayGames(config.filteredGames, 'allGamesContainer', config.currentPage);
                    });
                }
                
                const themeToggle = document.getElementById('themeToggle');
                if (themeToggle) {
                    themeToggle.addEventListener('click', toggleTheme);
                }
                
                // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø­ÙÙˆØ¸ Ø£Ùˆ ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¯Ø§Ø±Ùƒ Ù…ÙˆØ¯ ÙƒØ§ÙØªØ±Ø§Ø¶ÙŠ
                const savedTheme = localStorage.getItem('theme') || 'dark';
                document.body.classList.remove('dark-mode', 'light-mode');
                document.body.classList.add(`${savedTheme}-mode`);
                const icon = document.querySelector('#themeToggle i');
                if (icon) {
                    if (savedTheme === 'dark') {
                        icon.classList.remove('fa-sun');
                        icon.classList.add('fa-moon');
                    } else {
                        icon.classList.remove('fa-moon');
                        icon.classList.add('fa-sun');
                    }
                }
                
                const yearElement = document.getElementById('year');
                if (yearElement) {
                    yearElement.textContent = new Date().getFullYear();
                }
                
                document.querySelectorAll('nav a').forEach(link => {
                    link.addEventListener('click', function(e) {
                        if (this.getAttribute('href') === '#') {
                            e.preventDefault();
                            goHome();
                        }
                    });
                });
                
                document.querySelectorAll('.footer-links a').forEach(link => {
                    link.addEventListener('click', function(e) {
                        if (this.getAttribute('href') === '#' && !this.href.includes('wa.me')) {
                            e.preventDefault();
                            goHome();
                        }
                    });
                });
                
                window.addEventListener('scroll', function() {
                    const backToTop = document.getElementById('backToTop');
                    if (backToTop) {
                        if (window.pageYOffset > 300) {
                            backToTop.classList.add('visible');
                        } else {
                            backToTop.classList.remove('visible');
                        }
                    }
                });
                
                const backToTop = document.getElementById('backToTop');
                if (backToTop) {
                    backToTop.addEventListener('click', function(e) {
                        e.preventDefault();
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    });
                }
                
                console.log('ØªÙ…Øª ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¨Ù†Ø¬Ø§Ø­');
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹:', error);
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŒ ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ…');
            }
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ (Ø¯Ø§ÙƒÙ†/ÙØ§ØªØ­)
        function toggleTheme() {
            const body = document.body;
            const isDark = body.classList.contains('dark-mode');
            body.classList.remove('dark-mode', 'light-mode');
            if (isDark) {
                body.classList.add('light-mode');
                localStorage.setItem('theme', 'light');
                document.querySelector('#themeToggle i').classList.remove('fa-moon');
                document.querySelector('#themeToggle i').classList.add('fa-sun');
            } else {
                body.classList.add('dark-mode');
                localStorage.setItem('theme', 'dark');
                document.querySelector('#themeToggle i').classList.remove('fa-sun');
                document.querySelector('#themeToggle i').classList.add('fa-moon');
            }
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('DOMContentLoaded', initSite);
    </script>
</body>
</html>
